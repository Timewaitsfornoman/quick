!function t(e,i,n){function o(r,s){if(!i[r]){if(!e[r]){var p="function"==typeof require&&require;if(!s&&p)return p(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){var i=e[r][1][t];return o(i?i:t)},u,u.exports,t,e,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,i){var n=t("../../../../unit/libs/lib-backtop/1.0.0/backtop"),o=t("../../../../unit/libs/lib-template/1.0.0/template"),a=t("../../../../unit/libs/lib-environm/1.0.0/environm"),r=null,s=($(".J_ditu"),$("#J_item").html()),p=($(".J_navbar"),$(".J_imgview")),c=$(".J_popview"),u=$(".J_content"),l=$(".J_viewwapper"),m=a&&a.os,f=m&&m.isIOS,d=m&&m.isAndroid,h=a&&a.app&&a.app.isTujia,g=a&&a.app&&a.app.isWeixin,v=$(window).width(),_={init:function(){var t=this,e=t.dataModel();t.renderHtml(e),$(".J_footer").removeClass("hidden"),n()},issupportWebp:function(){var t="?imageMogr2/auto-orient",e="?imageMogr2/auto-orient/format/webp",i=function(){try{return 0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}()?e:t;return i},dataModel:function(){var t=this.issupportWebp(),e=[{title:"重庆草莓音乐节 ",time:"（10月24-25日）",describe:"舌头乐队，莫西子诗，赌鬼乐队，Colorhunter，黄晶，战斧乐队，彭坦，苏阳，龙神道，WHAI，碎瓷等",subtitle:"艺人团体：",paragraph:"“草莓星球”首次降落山城重庆，“痛仰的火车”随着“草莓”一起开到重庆",id:932453,imagearray:["http://upp.tujiamedia.com/musicfestival/musicfestival_00.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_01.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_15.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_02.jpg"+t]},{title:"2016中国·成都汽车音乐节 ",time:"（6月9日-6月10日）",describe:"黄致列、 徐佳莹、 黄家强、 许巍、 JESSI、 姜GARY、 Swing Girls",subtitle:"艺人团体：",paragraph:"这是一场从概念到形式都将打破传统音乐节框框的年度汽车音乐节盛宴，将为在场的数万歌迷带来不可复制的。",id:931209,imagearray:["http://upp.tujiamedia.com/musicfestival/musicfestival_03.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_04.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_05.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_06.jpg"+t]},{title:"首尔爵士音乐节 ",time:" （5月28日-5月29日）",describe:"林胜斌、 Esperanza Spalding、 Pat Metheny、 Mark Ronson等",subtitle:"艺人团体：",paragraph:"韩国首尔爵士音乐节，智山摇滚音乐节。不同的音乐，满足不一样的你，爱音乐的你，Are you ready？",id:931205,imagearray:["http://upp.tujiamedia.com/musicfestival/musicfestival_07.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_08.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_09.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_10.jpg"+t]},{title:"2016百大DJ音乐节  ",time:"（5月29日）",describe:"Tom Swoon、 Tenishia、 MATTN等",subtitle:"艺人团体：",paragraph:"为电音粉打造一次前所未有的全方位体验，我们也希望本次音乐盛会令各位电音粉",id:931196,imagearray:["http://upp.tujiamedia.com/musicfestival/musicfestival_11.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_12.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_13.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_14.jpg"+t]},{title:"武汉春浪音乐节",time:"（6月9日-6月10日）",describe:"新裤子、 S.H.E、 苏打绿、 萧敬腾、 谭维维、 丁当、 小宇、 万能青年旅店、 龙神道、 陈珊妮、 骚包乐团、 摇滚大婶",subtitle:"艺人团体：",paragraph:"将音乐这样一种生活方式带到中国年轻人的身边",id:932027,imagearray:["http://upp.tujiamedia.com/musicfestival/musicfestival_16.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_17.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_18.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_19.jpg"+t]},{title:"2016年迷笛电子音乐节   ",time:"（6月9日-6月11日）",describe:"意大利哥特女声金属Lacuna Coil、美国Djent乐队Veil of Maya、Tea-m Ghost、意第绪语重型乐队Gevolt、韩国乐队Burning Soda等",subtitle:"艺人团体：",paragraph:"在这个摇滚假期尽情释自己，尽情享受音乐，享受本就应与青春结伴同行的热血与激情，这就是在中国摇滚乐迷心中最为重要的节日——迷笛音乐节。",id:932454,imagearray:["http://upp.tujiamedia.com/musicfestival/musicfestival_20.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_21.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_22.jpg"+t,"http://upp.tujiamedia.com/musicfestival/musicfestival_23.jpg"+t]}],i={data:e};return this.dataModel=function(){return i},i},renderHtml:function(t){var e=this,i=o(s,t);u.html(i),r=$(".J_piclist"),e.addEvent()},addEvent:function(){var t=this,e="",i=0,n=0,o=(p.width(),function(t){t.stopPropagation()}),a=function(e){e.stopPropagation(),c[0].classList.remove("animatable"),p.addClass("nomalswaper");var o=t.touchEvent(n,i);l.off("touchstart").on("touchstart",o.touchstart),l.off("touchmove").on("touchmove",o.touchmove),l.off("touchend").on("touchend",o.touchend)};p[0].addEventListener("transitionend",o,!1);var s=!1;r.on("touchstart",".pic-item",function(t){s=!0}),r.on("touchmove",".pic-item",function(t){s=!1}),r.on("touchend",".pic-item",function(t){if(s===!0){var o=$(this);i=o.index(),n=o.parent(".J_piclist").children().size(),e=o.parent(".J_piclist").html(),p.html(e).css("width",16*n+"rem"),p[0].style.webkitTransform="translateX("+-i*v+"px)",c[0].classList.add("animatable"),c[0].classList.add("visible"),c[0].addEventListener("transitionend",a,!1)}});var u=function(){c[0].removeEventListener("transitionend",a,!1),c[0].classList.remove("visible"),p.removeClass("nomalswaper")},m=!1;c.on("touchstart",function(t){t.preventDefault(),t.stopPropagation(),m=!0}),c.on("touchmove",function(t){t.preventDefault(),t.stopPropagation(),m=!1}),c.on("touchend",function(t){t.preventDefault(),t.stopPropagation(),1==m&&u()});var _=function(){var t="",e="http://a.app.qq.com/o/simple.jsp?pkgname=com.tujiaapp.tujia",i="https://itunes.apple.com/app/id1076081346";g?t=e:d?t=e:f?t=i:console.log("You have lost your way,boy!");var n=$("#J_download");n.length||$("body").append('<a target="_blank" id="J_download" href="'+t+'" style=" display:none;cursor:pointer;">直接下载</a>'),$("#J_download").trigger("click")};$(".J_goapp").off().on("click",function(){var t=$(this),e=t.data("id");d?h?scope.atlas(Number(e)):_():f?h?window.location.href="tujiaapp:id="+e:_():console.log("数据异常")}),$(".J_home").on("click",function(){h&&(d?scope.goHome():window.location.href="tujiaapp:gohome")})},touchEvent:function(t,e){var t=t>0?t-1:0,i=!1,n=0,o=0,a=0,r=0;return{touchstart:function(t){t.preventDefault(),i=!0;var e=t.touches[0];n=e.pageX,a=e.pageY},touchmove:function(s){s.preventDefault();var c=s.touches[0];if(o=c.pageX,r=c.pageY,i&&Math.abs(a-r)<30&&Math.abs(o-n)>30&&(i=!1,e>=0&&t>=e)){if(o-n>0&&e>=0){if(0===e)return p[0].style.webkitTransform="translateX("+.382*v+"px)",void setTimeout(function(){p[0].style.webkitTransform="translateX(0px)"},200);e--}else if(0>o-n&&t>=e){if(e===t)return p[0].style.webkitTransform="translateX("+-((.382+e)*v)+"px)",void setTimeout(function(){p[0].style.webkitTransform="translateX("+-(t*v)+"px)"},200);e++}p[0].style.webkitTransform="translateX("+-e*v+"px)"}},touchend:function(n){n.preventDefault(),i=!1,setTimeout(function(){0===e&&(p[0].style.webkitTransform="translateX(0px)"),e===t&&(p[0].style.webkitTransform="translateX("+-(t*v)+"px)")},202)}}}};_.init()},{"../../../../unit/libs/lib-backtop/1.0.0/backtop":2,"../../../../unit/libs/lib-environm/1.0.0/environm":8,"../../../../unit/libs/lib-template/1.0.0/template":9}],2:[function(t,e,i){e.exports=function(t){var t=t||2*window.innerHeight+100,e=".backtop",i=$(window),n=$('<a href="javascript:;" class="backtop"></a>'),o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAkBAMAAADx8p7SAAAAKlBMVEUAAAD+/v7//f7//f7+/f3//////v///////v///////v///P3//v7///8rNLtqAAAADXRSTlMA/NocCb9OcbXoz4VlIaFugwAAAIlJREFUKM/tyrENg1AMRVFLKdKmSpcR0mSCDJEBskikjMAQtEi0bEAJBaLyLoDvt54EK/Aq++pY2eVZ224vn95cQu6fPfLChEYvTOjuM0zo68MvmJD5cA0mtCYLJrQlWKJIsEQkGIgUTIgEA5FgIFKyZkMk2N8CkWCV9aBM/ErsTIf0uB1S1+a1AEa7aZ7PHZ7sAAAAAElFTkSuQmCC";n.css({display:"none",position:"fixed",width:"1.6rem",height:"1.6rem",right:"0.67rem","border-radius":"50%",bottom:"2.9rem","z-index":"0",background:"rgba(0, 0, 0, 0.4) url("+o+") no-repeat center","background-size":"40% 40%"}),$("body").append(n),i.on("scroll",function(){i.scrollTop()<t?n.css("display","none"):n.css("display","block")}),$(document).on("click",e,function(){i.scrollTop(0),n.css("display","none")})}},{}],3:[function(t,e,i){var n,o={},a=window.navigator.userAgent;o=(n=a.match(/MicroMessenger\/([\d\.]+)/))?{name:"Weixin",isWeixin:!0,version:n[1]}:(n=a.match(/__weibo__([\d\.]+)/))?{name:"Weibo",isWeibo:!0,version:n[1]}:(n=a.match(/Tujia\/([\d\.]+)/))?{name:"Tujia",isTujia:!0,version:n[1]}:{name:"unknown",version:"0.0.0"},o.version=t("./version.js")(o.version),e.exports=o},{"./version.js":7}],4:[function(t,e,i){var n,o=window.navigator.userAgent,a={};(n=o.match(/(?:UCWEB|UCBrowser\/)([\d\.]+)/))?a={name:"UC",isUC:!0,version:n[1]}:(n=o.match(/MQQBrowser\/([\d\.]+)/))?a={name:"QQ",isQQ:!0,version:n[1]}:(n=o.match(/MiuiBrowser\/([\d\.]+)/))?a={name:"Xiaomi",isXiaomi:!0,version:n[1]}:(n=o.match(/(?:Chrome|CriOS)\/([\d\.]+)/))?a={name:"Chrome",isChrome:!0,version:n[1]}:o.match(/Mobile Safari/)&&(n=o.match(/Android[\s\/]([\d\.]+)/))?a={name:"Android",isAndroid:!0,version:n[1]}:o.match(/iPhone|iPad|iPod/)?o.match(/Safari/)?(n=o.match(/Version\/([\d\.]+)/),a={name:"Safari",isSafari:!0,version:n?n[1]:"0.0.0"}):(n=o.match(/OS ([\d_\.]+) like Mac OS X/),a={name:"iOS Webview",isWebview:!0,version:n[1].replace(/\_/,".")}):a={name:"unknown",version:"0.0.0"},a.version=t("./version.js")(a.version),e.exports=a},{"./version.js":7}],5:[function(t,e,i){var n,o={},a=window.navigator.userAgent;o=(n=a.match(/Mobile\/([\d\.]+)/))?{name:"Mobile",isMobile:!0,version:n[1]}:{name:"unknown",version:"0.0.0"},o.version=t("./version.js")(o.version),e.exports=o},{"./version.js":7}],6:[function(t,e,i){var n,o={},a=window.navigator.userAgent;if(n=a.match(/Android[\s\/]([\d\.]+)/))o={name:"Android",isAndroid:!0,version:n[1]};else if(n=a.match(/(iPhone|iPad|iPod)/)){var r=n[1];n=a.match(/OS ([\d_\.]+) like Mac OS X/),o={name:r,isIPhone:"iPhone"===r||"iPod"===r,isIPad:"iPad"===r,isIOS:!0,version:n[1].split("_").join(".")}}else o={name:"unknown",version:"0.0.0"};o.version=t("./version.js")(o.version),e.exports=o},{"./version.js":7}],7:[function(t,e,i){function n(t){this.string=t.toString()}n.prototype.toString=function(){return this.string},n.prototype.valueOf=function(){for(var t=this.toString().split("."),e=[],i=0;i<t.length;i++){var n=parseInt(t[i],10);window.isNaN(n)&&(n=0);var o=n.toString();o.length<5&&(o=Array(6-o.length).join("0")+o),e.push(o),1===e.length&&e.push(".")}return window.parseFloat(e.join(""))},n.prototype.gt=function(t){return n.compare(this,t)>0},n.prototype.gte=function(t){return n.compare(this,t)>=0},n.prototype.lt=function(t){return n.compare(this,t)<0},n.prototype.lte=function(t){return n.compare(this,t)<=0},n.prototype.eq=function(t){return 0===n.compare(this,t)},n.compare=function(t,e){t=t.toString().split("."),e=e.toString().split(".");for(var i=0;i<t.length||i<e.length;i++){var n=parseInt(t[i],10),o=parseInt(e[i],10);if(window.isNaN(n)&&(n=0),window.isNaN(o)&&(o=0),o>n)return-1;if(n>o)return 1}return 0},e.exports=function(t){return new n(t)}},{}],8:[function(t,e,i){var n={app:t("./bin/app.js"),browser:t("./bin/browser.js"),os:t("./bin/os.js"),version:t("./bin/version.js"),environ:t("./bin/environ.js")};"unknown"==n.app.name||n.app.isWeixin||n.app.isWeibo||(n.tujia={appname:n.app.name,platform:n.os.name,version:n.app.version}),e.exports=n},{"./bin/app.js":3,"./bin/browser.js":4,"./bin/environ.js":5,"./bin/os.js":6,"./bin/version.js":7}],9:[function(t,e,i){(function(t){var i=function(){var t=[].slice.call(arguments);return t.push(i.options),t[0].match(/^\s*#([\w:\-\.]+)\s*$/gim)&&t[0].replace(/^\s*#([\w:\-\.]+)\s*$/gim,function(e,i){var n=document,o=n&&n.getElementById(i);t[0]=o?o.value||o.innerHTML:e}),1==arguments.length?i.compile.apply(i,t):arguments.length>=2?i.to_html.apply(i,t):void 0},n={escapehash:{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},escapereplace:function(t){return n.escapehash[t]},escaping:function(t){return"string"!=typeof t?t:t.replace(/[&<>"]/gim,this.escapereplace)},detection:function(t){return"undefined"==typeof t?"":t}},o=function(t){if("undefined"!=typeof console){if(console.warn)return void console.warn(t);if(console.log)return void console.log(t)}throw t},a=function(t,e){if(t=t!==Object(t)?{}:t,t.__proto__)return t.__proto__=e,t;var i=function(){},n=Object.create?Object.create(e):new(i.prototype=e,i);for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);return n};i.__cache={},i.version="0.6.5-stable",i.settings={},i.tags={operationOpen:"{@",operationClose:"}",interpolateOpen:"\\${",interpolateClose:"}",noneencodeOpen:"\\$\\${",noneencodeClose:"}",commentOpen:"\\{#",commentClose:"\\}"},i.options={cache:!0,strip:!0,errorhandling:!0,detection:!0,_method:a({__escapehtml:n,__throw:o,__juicer:i},{})},i.tagInit=function(){var t=i.tags.operationOpen+"each\\s*([^}]*?)\\s*as\\s*(\\w*?)\\s*(,\\s*\\w*?)?"+i.tags.operationClose,e=i.tags.operationOpen+"\\/each"+i.tags.operationClose,n=i.tags.operationOpen+"if\\s*([^}]*?)"+i.tags.operationClose,o=i.tags.operationOpen+"\\/if"+i.tags.operationClose,a=i.tags.operationOpen+"else"+i.tags.operationClose,r=i.tags.operationOpen+"else if\\s*([^}]*?)"+i.tags.operationClose,s=i.tags.interpolateOpen+"([\\s\\S]+?)"+i.tags.interpolateClose,p=i.tags.noneencodeOpen+"([\\s\\S]+?)"+i.tags.noneencodeClose,c=i.tags.commentOpen+"[^}]*?"+i.tags.commentClose,u=i.tags.operationOpen+"each\\s*(\\w*?)\\s*in\\s*range\\(([^}]+?)\\s*,\\s*([^}]+?)\\)"+i.tags.operationClose,l=i.tags.operationOpen+"include\\s*([^}]*?)\\s*,\\s*([^}]*?)"+i.tags.operationClose;i.settings.forstart=new RegExp(t,"igm"),i.settings.forend=new RegExp(e,"igm"),i.settings.ifstart=new RegExp(n,"igm"),i.settings.ifend=new RegExp(o,"igm"),i.settings.elsestart=new RegExp(a,"igm"),i.settings.elseifstart=new RegExp(r,"igm"),i.settings.interpolate=new RegExp(s,"igm"),i.settings.noneencode=new RegExp(p,"igm"),i.settings.inlinecomment=new RegExp(c,"igm"),i.settings.rangestart=new RegExp(u,"igm"),i.settings.include=new RegExp(l,"igm")},i.tagInit(),i.set=function(t,e){var i=this,n=function(t){return t.replace(/[\$\(\)\[\]\+\^\{\}\?\*\|\.]/gim,function(t){return"\\"+t})},o=function(t,e){var o=t.match(/^tag::(.*)$/i);return o?(i.tags[o[1]]=n(e),void i.tagInit()):void(i.options[t]=e)};if(2===arguments.length)return void o(t,e);if(t===Object(t))for(var a in t)t.hasOwnProperty(a)&&o(a,t[a])},i.register=function(t,e){var i=this.options._method;return i.hasOwnProperty(t)?!1:i[t]=e},i.unregister=function(t){var e=this.options._method;return e.hasOwnProperty(t)?delete e[t]:void 0},i.template=function(e){var n=this;this.options=e,this.__interpolate=function(t,e,i){var n,o=t.split("|"),a=o[0]||"";return o.length>1&&(t=o.shift(),n=o.shift().split(","),a="_method."+n.shift()+".call({}, "+[t].concat(n)+")"),"<%= "+(e?"_method.__escapehtml.escaping":"")+"("+(i&&i.detection===!1?"":"_method.__escapehtml.detection")+"("+a+")) %>"},this.__removeShell=function(t,e){var o=0;return t=t.replace(i.settings.forstart,function(t,e,i,n){var i=i||"value",n=n&&n.substr(1),a="i"+o++;return"<% ~function() {for(var "+a+" in "+e+") {if("+e+".hasOwnProperty("+a+")) {var "+i+"="+e+"["+a+"];"+(n?"var "+n+"="+a+";":"")+" %>"}).replace(i.settings.forend,"<% }}}(); %>").replace(i.settings.ifstart,function(t,e){return"<% if("+e+") { %>"}).replace(i.settings.ifend,"<% } %>").replace(i.settings.elsestart,function(t){return"<% } else { %>"}).replace(i.settings.elseifstart,function(t,e){return"<% } else if("+e+") { %>"}).replace(i.settings.noneencode,function(t,i){return n.__interpolate(i,!1,e)}).replace(i.settings.interpolate,function(t,i){return n.__interpolate(i,!0,e)}).replace(i.settings.inlinecomment,"").replace(i.settings.rangestart,function(t,e,i,n){var a="j"+o++;return"<% ~function() {for(var "+a+"="+i+";"+a+"<"+n+";"+a+"++) {{var "+e+"="+a+"; %>"}).replace(i.settings.include,function(t,e,i){return"<%= _method.__juicer("+e+", "+i+"); %>"}),e&&e.errorhandling===!1||(t="<% try { %>"+t,t+='<% } catch(e) {_method.__throw("Juicer Render Exception: "+e.message);} %>'),t},this.__toNative=function(t,e){return this.__convert(t,!e||e.strip)},this.__lexicalAnalyze=function(e){var n=[],o=[],a="",r=["if","each","_","_method","console","break","case","catch","continue","debugger","default","delete","do","finally","for","function","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","null","typeof","class","enum","export","extends","import","super","implements","interface","let","package","private","protected","public","static","yield","const","arguments","true","false","undefined","NaN"],s=function(t,e){if(Array.prototype.indexOf&&t.indexOf===Array.prototype.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},p=function(e,a){if(a=a.match(/\w+/gim)[0],-1===s(n,a)&&-1===s(r,a)&&-1===s(o,a)){if("undefined"!=typeof window&&"function"==typeof window[a]&&window[a].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i))return e;if("undefined"!=typeof t&&"function"==typeof t[a]&&t[a].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i))return e;if("function"==typeof i.options._method[a]||i.options._method.hasOwnProperty(a))return o.push(a),e;n.push(a)}return e};e.replace(i.settings.forstart,p).replace(i.settings.interpolate,p).replace(i.settings.ifstart,p).replace(i.settings.elseifstart,p).replace(i.settings.include,p).replace(/[\+\-\*\/%!\?\|\^&~<>=,\(\)\[\]]\s*([A-Za-z_]+)/gim,p);for(var c=0;c<n.length;c++)a+="var "+n[c]+"=_."+n[c]+";";for(var c=0;c<o.length;c++)a+="var "+o[c]+"=_method."+o[c]+";";return"<% "+a+" %>"},this.__convert=function(t,e){var i=[].join("");return i+="'use strict';",i+="var _=_||{};",i+="var _out='';_out+='",i+=e!==!1?t.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"	").split("'").join("\\'").split("	").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out;":t.replace(/\\/g,"\\\\").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\n]/g,"\\n").replace(/'(?=[^%]*%>)/g,"	").split("'").join("\\'").split("	").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out.replace(/[\\r\\n]\\s+[\\r\\n]/g, '\\r\\n');"},this.parse=function(t,e){var i=this;return e&&e.loose===!1||(t=this.__lexicalAnalyze(t)+t),t=this.__removeShell(t,e),t=this.__toNative(t,e),this._render=new Function("_, _method",t),this.render=function(t,e){return e&&e===n.options._method||(e=a(e,n.options._method)),i._render.call(this,t,e)},this}},i.compile=function(t,e){e&&e===this.options||(e=a(e,this.options));try{var i=this.__cache[t]?this.__cache[t]:new this.template(this.options).parse(t,e);return e&&e.cache===!1||(this.__cache[t]=i),i}catch(n){return o("Juicer Compile Exception: "+n.message),{render:function(){}}}},i.to_html=function(t,e,i){return i&&i===this.options||(i=a(i,this.options)),this.compile(t,i).render(e,i._method)},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);